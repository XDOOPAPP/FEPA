import{g as t,A as a}from"./index-C6bCr4XE.js";const e={getPlans:async()=>{const e=await t.get(a.SUBSCRIPTIONS.PLANS);return e.data||e},getPlanDetail:async e=>{const s=await t.get(a.SUBSCRIPTIONS.PLAN_DETAIL(e));return s.data||s},createPlan:async e=>{try{const s=await t.post(a.SUBSCRIPTIONS.CREATE_PLAN,e);return s.data||s}catch(s){throw 401===s.status||s.status,s}},updatePlan:async(e,s)=>{try{const r=await t.patch(a.SUBSCRIPTIONS.UPDATE_PLAN(e),s);return r.data||r}catch(r){throw 401===r.status||r.status,r}},disablePlan:async e=>{try{const s=await t.delete(a.SUBSCRIPTIONS.DELETE_PLAN(e));return s.data||s}catch(s){throw 401===s.status||s.status,s}},getStats:async()=>{try{const e=await t.get(a.SUBSCRIPTIONS.ADMIN_STATS),s=e.data||e;return(null==s?void 0:s.data)??s}catch(e){throw e.status,e}},checkHealth:async()=>{try{return await t.get(a.SUBSCRIPTIONS.PLANS),{success:!0,message:"Service is reachable",data:{alive:!0,timestamp:(new Date).toISOString()}}}catch(e){throw e}},getCurrent:async()=>{const e=await t.get(a.SUBSCRIPTIONS.CURRENT);return e.data||e},subscribe:async e=>{const s=await t.post(a.SUBSCRIPTIONS.SUBSCRIBE,{planId:e});return s.data||s},cancel:async()=>(await t.post(a.SUBSCRIPTIONS.CANCEL)).data,getHistory:async()=>(await t.get(a.SUBSCRIPTIONS.HISTORY)).data.data,getUserFeatures:async()=>(await t.get(a.SUBSCRIPTIONS.FEATURES)).data.data,checkFeature:async e=>(await t.get(a.SUBSCRIPTIONS.CHECK_FEATURE,{params:{feature:e}})).data.data,getRevenueOverTime:async(e={period:"daily",days:30})=>{try{const s=await t.get(a.SUBSCRIPTIONS.REVENUE_OVER_TIME,{params:e});return s.data||s}catch(s){throw s.status,s}},getRevenueTotals:async()=>{try{const e=await t.get(a.SUBSCRIPTIONS.REVENUE_TOTAL);return e.data||e}catch(e){throw e.status,e}},getRevenueByPlan:async()=>{try{const e=await t.get(a.SUBSCRIPTIONS.REVENUE_BY_PLAN),s=e.data||e;return Array.isArray(s)?s:s.data}catch(e){throw e.status,e}}};export{e as s};
