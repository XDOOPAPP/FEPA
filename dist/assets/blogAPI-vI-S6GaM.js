import{g as t,A as a}from"./index-CWIbmrm_.js";const e={getBlogs:async e=>{const{page:s,limit:n,...g}=e,o={...g},i=await t.get(a.BLOGS.LIST,{params:o})??{},l=Array.isArray(i)?i:Array.isArray(i.data)?i.data:[],r=i.meta||{};return{data:l,total:r.total??l.length??0,page:r.page??1,limit:r.limit??l.length??10}},getPendingBlogs:async t=>e.getBlogs({...t,status:"pending"}),getPublishedBlogs:async t=>e.getBlogs({...t,status:"published"}),getRejectedBlogs:async t=>e.getBlogs({...t,status:"rejected"}),getStatusStats:async()=>{const e=await t.get(a.BLOGS.STATS_STATUS),s=e.data||e;return(null==s?void 0:s.data)||s||{}},getMonthlyStats:async e=>{const s=await t.get(a.BLOGS.STATS_MONTHLY(e)),n=s.data||s;return(null==n?void 0:n.data)||n||[]},getBlogDetail:async e=>{const s=await t.get(a.BLOGS.DETAIL(e));if(s&&"object"==typeof s)return"data"in s&&s.data?s.data:s;throw new Error("Invalid response format")},approveBlog:async(e,s)=>{const n=s&&s.adminId?s:{};return await t.post(a.BLOGS.APPROVE(e),n)},rejectBlog:async(e,s)=>await t.post(a.BLOGS.REJECT(e),s),getAllBlogsForAdminReview:async()=>{const t=(await Promise.all(["draft","pending","published","rejected"].map(t=>e.getBlogs({status:t})))).flatMap(t=>t.data);return t.sort((t,a)=>new Date(a.createdAt).getTime()-new Date(t.createdAt).getTime()),{data:t,total:t.length,page:1,limit:t.length}},getPendingCount:async()=>(await e.getPendingBlogs({page:1,limit:1})).total};export{e as b};
