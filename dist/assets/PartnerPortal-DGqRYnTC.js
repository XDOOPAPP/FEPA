import{j as e}from"./vendor-CIDEvgjn.js";import{r as t}from"./react-YvAU7kAw.js";import{R as s,L as r,C as i,X as a,Y as n,T as c,a as l,b as o,B as d,c as u}from"./recharts-CeeJsarb.js";import{I as x,_ as p,d as h,C as m,e as j,j as v,O as g,B as k,U as y,h as f,i as I,t as C,Q as B,z as D}from"./antd-B4HmBe3_.js";import{R as N}from"./DollarOutlined-BxcgP7yR.js";var A={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M855.7 210.8l-42.4-42.4a8.03 8.03 0 00-11.3 0L168.3 801.9a8.03 8.03 0 000 11.3l42.4 42.4c3.1 3.1 8.2 3.1 11.3 0L855.6 222c3.2-3 3.2-8.1.1-11.2zM304 448c79.4 0 144-64.6 144-144s-64.6-144-144-144-144 64.6-144 144 64.6 144 144 144zm0-216c39.7 0 72 32.3 72 72s-32.3 72-72 72-72-32.3-72-72 32.3-72 72-72zm416 344c-79.4 0-144 64.6-144 144s64.6 144 144 144 144-64.6 144-144-64.6-144-144-144zm0 216c-39.7 0-72-32.3-72-72s32.3-72 72-72 72 32.3 72 72-32.3 72-72 72z"}}]},name:"percentage",theme:"outlined"},b=function(e,s){return t.createElement(x,p({},e,{ref:s,icon:A}))},w=t.forwardRef(b);const{RangePicker:T}=g,L=()=>{const[x,p]=t.useState("all"),[g,A]=t.useState([h().subtract(30,"day"),h()]),b=[{partnerId:"p1",partnerName:"Ngân hàng ABC",totalImpressions:125e3,totalClicks:3750,ctr:3,revenue:15e6,activeAds:1},{partnerId:"p2",partnerName:"Bảo hiểm XYZ",totalImpressions:85e3,totalClicks:2125,ctr:2.5,revenue:8e6,activeAds:1},{partnerId:"p3",partnerName:"Công ty Đầu tư DEF",totalImpressions:45e3,totalClicks:1350,ctr:3,revenue:2e7,activeAds:0}],L=[{date:"01/01",impressions:4500,clicks:135,revenue:5e5},{date:"05/01",impressions:5200,clicks:156,revenue:6e5},{date:"10/01",impressions:6100,clicks:183,revenue:75e4},{date:"15/01",impressions:5800,clicks:174,revenue:7e5},{date:"20/01",impressions:6500,clicks:195,revenue:8e5},{date:"25/01",impressions:7200,clicks:216,revenue:9e5},{date:"30/01",impressions:6800,clicks:204,revenue:85e4}],S=[{id:"1",title:"Banner Ngân hàng ABC - Thẻ tín dụng",impressions:125e3,clicks:3750,ctr:3,revenue:15e6,status:"active"},{id:"2",title:"Banner Bảo hiểm XYZ",impressions:85e3,clicks:2125,ctr:2.5,revenue:8e6,status:"active"},{id:"3",title:"Native Ad - App Đầu tư DEF",impressions:45e3,clicks:1350,ctr:3,revenue:2e7,status:"paused"}],Y="all"===x?null:b.find(e=>e.partnerId===x),z=Y?{impressions:Y.totalImpressions,clicks:Y.totalClicks,ctr:Y.ctr,revenue:Y.revenue}:{impressions:b.reduce((e,t)=>e+t.totalImpressions,0),clicks:b.reduce((e,t)=>e+t.totalClicks,0),ctr:b.reduce((e,t)=>e+t.ctr,0)/b.length,revenue:b.reduce((e,t)=>e+t.revenue,0)},K=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),R=[{title:"Quảng cáo",dataIndex:"title",key:"title"},{title:"Hiển thị",dataIndex:"impressions",key:"impressions",render:e=>e.toLocaleString(),sorter:(e,t)=>e.impressions-t.impressions},{title:"Click",dataIndex:"clicks",key:"clicks",render:e=>e.toLocaleString(),sorter:(e,t)=>e.clicks-t.clicks},{title:"CTR (%)",dataIndex:"ctr",key:"ctr",render:e=>`${e.toFixed(2)}%`,sorter:(e,t)=>e.ctr-t.ctr},{title:"Doanh thu",dataIndex:"revenue",key:"revenue",render:e=>K(e),sorter:(e,t)=>e.revenue-t.revenue},{title:"Trạng thái",dataIndex:"status",key:"status",render:t=>{const{color:s,text:r}={active:{color:"#52c41a",text:"Đang chạy"},paused:{color:"#faad14",text:"Tạm dừng"},ended:{color:"#d9d9d9",text:"Đã kết thúc"}}[t];return e.jsx("span",{style:{color:s},children:r})}}];return e.jsx("div",{style:{padding:"24px"},children:e.jsxs(m,{children:[e.jsxs(j,{style:{marginBottom:"24px",width:"100%",justifyContent:"space-between"},children:[e.jsxs(j,{children:[e.jsxs(v,{value:x,onChange:p,style:{width:250},children:[e.jsx(v.Option,{value:"all",children:"Tất cả đối tác"}),b.map(t=>e.jsx(v.Option,{value:t.partnerId,children:t.partnerName},t.partnerId))]}),e.jsx(T,{value:g,onChange:e=>e&&A(e),format:"DD/MM/YYYY"})]}),e.jsx(k,{type:"primary",icon:e.jsx(y,{}),onClick:()=>{},children:"Xuất báo cáo"})]}),e.jsxs(f,{gutter:[16,16],style:{marginBottom:"24px"},children:[e.jsx(I,{span:6,children:e.jsx(m,{children:e.jsx(C,{title:"Tổng hiển thị",value:z.impressions,prefix:e.jsx(B,{}),formatter:e=>e.toLocaleString()})})}),e.jsx(I,{span:6,children:e.jsx(m,{children:e.jsx(C,{title:"Tổng click",value:z.clicks,prefix:e.jsx(B,{}),formatter:e=>e.toLocaleString()})})}),e.jsx(I,{span:6,children:e.jsx(m,{children:e.jsx(C,{title:"CTR trung bình",value:z.ctr,prefix:e.jsx(w,{}),suffix:"%",precision:2})})}),e.jsx(I,{span:6,children:e.jsx(m,{children:e.jsx(C,{title:"Doanh thu",value:z.revenue,prefix:e.jsx(N,{}),formatter:e=>K(Number(e))})})})]}),e.jsxs(f,{gutter:[16,16],style:{marginBottom:"24px"},children:[e.jsx(I,{span:12,children:e.jsx(m,{title:"Hiển thị & Click theo thời gian",children:e.jsx(s,{width:"100%",height:300,children:e.jsxs(r,{data:L,children:[e.jsx(i,{strokeDasharray:"3 3"}),e.jsx(a,{dataKey:"date"}),e.jsx(n,{yAxisId:"left"}),e.jsx(n,{yAxisId:"right",orientation:"right"}),e.jsx(c,{}),e.jsx(l,{}),e.jsx(o,{yAxisId:"left",type:"monotone",dataKey:"impressions",stroke:"#1890ff",name:"Hiển thị"}),e.jsx(o,{yAxisId:"right",type:"monotone",dataKey:"clicks",stroke:"#52c41a",name:"Click"})]})})})}),e.jsx(I,{span:12,children:e.jsx(m,{title:"Doanh thu theo thời gian",children:e.jsx(s,{width:"100%",height:300,children:e.jsxs(d,{data:L,children:[e.jsx(i,{strokeDasharray:"3 3"}),e.jsx(a,{dataKey:"date"}),e.jsx(n,{}),e.jsx(c,{formatter:e=>K(Number(e))}),e.jsx(l,{}),e.jsx(u,{dataKey:"revenue",fill:"#faad14",name:"Doanh thu"})]})})})})]}),e.jsx(m,{title:"Hiệu suất từng quảng cáo",children:e.jsx(D,{columns:R,dataSource:"all"===x?S:S.filter(e=>{var t;return null==(t={p1:["1"],p2:["2"],p3:["3"]}[x])?void 0:t.includes(e.id)}),rowKey:"id",pagination:!1})})]})})};export{L as default};
